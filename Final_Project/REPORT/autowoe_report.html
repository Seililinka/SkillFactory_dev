<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimal-ui">
    <title>AutoWoE validation report</title>
</head>
<style>
    table,
    th,
    td {
        border: 1px solid black;
        border-collapse: collapse;
        padding: 5px;
    }

    /* Remove default bullets */
    ul,
    #myUL {
        list-style-type: none;
    }

    /* Remove margins and padding from the parent ul */
    #myUL {
        margin: 0;
        padding: 0;
    }

    /* Style the caret/arrow */
    .caret {
        cursor: pointer;
        user-select: none;
        /* Prevent text selection */
    }

    /* Create the caret/arrow with a unicode, and style it */
    .caret::before {
        content: "\25B6";
        color: black;
        display: inline-block;
        margin-right: 6px;
    }

    /* Rotate the caret/arrow icon when clicked on (using JavaScript) */
    .caret-down::before {
        transform: rotate(90deg);
    }

    /* Hide the nested list */
    .nested {
        display: none;
    }

    /* Show the nested list when the user clicks on the caret/arrow (with JavaScript) */
    .active {
        display: block;
    }
</style>
<script src="shap.js"></script>

<body>
    <div>
        <h1>AutoWoE automatically generated report</h1>
        <hr>
        <h2>MODEL</h2>
        <h3>Report version: 1</h3>
        <h3>Москва, 2022</h3>
        <hr>
    </div>
    <!--
    <div>
        <h2>Оглавление</h2>
        <ul style="list-style-type:disc;">
            <li>
                <a href="#section1">1. Общие положения</a>
                <ul style="list-style-type:circle;">
                    <li><a href="#section1_1">1.1. Цель документа</a></li>
                    <li><a href="#section1_2">1.2. Цели и задачи, для которых требуется построение модели</a></li>
                    <li><a href="#section1_3">1.3. Структура документа</a></li>
                    <li><a href="#section1_4">1.4. Сводная информация по модели</a></li>
                </ul>
            </li>
            <li>
                <a href="#section2">2. Структура модели</a>
                <ul style="list-style-type:circle;">
                    <li><a href="#section2_1">2.1. Коэффициенты регрессионной модели</a></li>
                    <li><a href="#section2_2">2.2. Разбиение признаков на бины и WoE значения в них</a></li>
                </ul>
            </li>
            <li>
                <a href="#section3">3. Валидационные тесты</a>
                <ul style="list-style-type:circle;">
                    <li><a href="#section3_1">3.1. Отличия в числе пропусков между обучающей и тестовой выборкой</a>
                    </li>
                    <li><a href="#section3_2">3.2. Качество классификации по каждому из признаков финальной модели</a>
                    </li>
                    <li><a href="#section3_3">3.3. Доверительный интервал для индекса Джини</a></li>
                    <li><a href="#section3_4">3.4. P-value на коэффициенты модели</a></li>
                    <li><a href="#section3_5">3.5. Одномерный анализ</a></li>
                    <li><a href="#section3_6">3.6. Проверка на монотонность</a></li>
                    <li><a href="#section3_7">3.7. Проверка на люфт</a></li>
                    <li><a href="#section3_8">3.8. Проверка на VIF</a></li>
                    <li><a href="#section3_9">3.9. PSI</a></li>
                </ul>
            </li>
            <li>
                <a href="#section4">4. Дополнительные отчеты</a>
                <ul style="list-style-type:circle;">
                    <li><a href="#section4_1">4.1. Статистики по бинам предсказания</a></li>
                    <li><a href="#section4_2">4.2. Корреляции по факторам, вошедшим в модель</a></li>
                    <li><a href="#section4_3">4.3. Скоринговая карта</a></li>
                    <li><a href="#section4_4">4.4. История отбора признаков</a></li>
                    <li><a href="#section4_5">4.5. Вклад каждой переменной в модель</a></li>
                </ul>
            </li>
        </ul>
    </div>
    -->
    <ul id="myUL">
        <li>
            <h2 class="caret caret-down" id="section1">1. General Provisions</h2>
            <ul class="nested active">
                <li>
                    <h3 class="caret" id="section1_1">1.1. Purpose of the Document</h3>
                    <ul class="nested">
                        <p>This report is made to ensure the continuity of business processes, preserve and
                            share internal organization expertise within the Group, as well as to prove the feasibility
                            and validity of the developed model.</p>
                        <p>To achieve the goals, the Report provides insights into some essential methodological
                            approaches to modeling.</p>
                    </ul>
                </li>
                <li>
                    <h3 class="caret" id="section1_2">1.2. Goals and Tasks which Require Building a Model</h3>
                    <ul class="nested">
                        <li>
                            <p>Определение класса жилья</p>
                        </li>
                    </ul>
                </li>
                <li>
                    <h3 class="caret" id="section1_3">1.3. Document Structure</h3>
                    <ul class="nested">
                        <p>The report has the following structure:</p>
                        <ul style="list-style-type:disc;">
                            <li>Section <a href="#section2">Model structure</a> contains model description:
                                features,
                                coefficients of the regression model, splitting features into bins.
                            </li>
                            <li>Section <a href="#section3">Validation tests</a> contains information about validation
                                tests.
                            </li>

                        </ul>
                    </ul>
                </li>
                <li>
                    <h3 class="caret" id="section1_4">1.4. Model Summary</h3>
                    <ul class="nested">
                        <p>Key model identifiers are given in Table 1.</p>
                        <h4>Table 1. Model identifiers</h4>
                        <table style="width:100%">
                            <tr>
                                <th width="30%">Parameter</th>
                                <th width="70%">Value</th>
                            </tr>
                            <tr>
                                <td><b>Model name / ID</b></td>
                                <td>Model_Classifier</td>
                            </tr>
                            <tr>
                                <td><b>Report version</b></td>
                                <td>1</td>
                            </tr>
                            <tr>
                                <td><b>Model customer</b></td>
                                <td>Дипломный проект</td>
                            </tr>
                            <tr>
                                <td><b>Name of the Group member and high level department</b></td>
                                <td>SkillFactory</td>
                            </tr>
                            <tr>
                                <td><b>Model developer (if an external developer is involved, it is necessary
                                        to indicate Company's name)</b></td>
                                <td>Лина</td>
                            </tr>
                        </table>

                        <p>Description and specification of datasets that are used to develop and test the model
                            are presented in Table
                            2.</p>
                        <h4>Table 2. Summary of data sets used to build the model</h4>
                        <table style="width:100%">
                            <tr>
                                <td width="20%"><strong>Parameter</strong></td>
                                <td width="16%"><strong>Training set</strong></td>
                                <td width="16%"><strong>Test set</strong></td>
                            </tr>
                            <tr>
                                <td><b>Target event description</b></td>
                                <td colspan="5">Стоимость за квадратный метр превышает 137974.27</td>
                            </tr>
                            <tr>
                                <td><b>Non-target event description</b></td>
                                <td colspan="5">Стоимость за квадратный метр меньше 137974.27</td>
                            </tr>
                            <tr>
                                <td><b>Observations count in sets</b></td>
                                <td>123491</td>
                                <td>42536</td>
                            </tr>
                            <tr>
                                <td><b>Target events count</b></td>
                                <td>34720</td>
                                <td>13013</td>
                            </tr>
                            <tr>
                                <td><b>Non-target events count</b></td>
                                <td>88771</td>
                                <td>29523</td>
                            </tr>
                            <tr>
                                <td><b>Mean of target in sets</b></td>
                                <td>28.12%</td>
                                <td>30.59%</td>
                            </tr>
                        </table>

                        <p>Predictions of the model trained on the training set are shown in Table 3.</p>
                        <h4>Table 3. Model predictions (trained using the training set)</h4>
                        <table style="width:100%">
                            <tr>
                                <td width="20%"><strong>Parameter</strong></td>
                                <td width="40%"><strong>Training set</strong></td>
                                <td width="40%"><strong>Test set</strong></td>
                            </tr>
                            <tr>
                                <td><b>AUC</b></td>
                                <td>99.89%</td>
                                <td>99.95%</td>
                            </tr>
                            <tr>
                                <td><b>Gini</b></td>
                                <td>99.79%</td>
                                <td>99.90%</td>
                            </tr>
                        </table>
                        <p><img src="AUC_test_plot_full.png" alt="AUC test plot full"></p>
                    </ul>
                </li>
            </ul>
        </li>
        <li>
            <h2 class="caret caret-down" id="section2">2. Model Structure</h2>
            <ul class="nested active">
                <li>
                    <h3 class="caret" id="section2_1">2.1. Coefficients of the Regression Model</h3>
                    <ul class="nested">
                        <p>Coefficients of the regression model are shown in Table 4.</p>
                        <h4>Table 4. Coefficients of the regression model</h4>
                        <table style="width:100%">
                            <tr>
                                <td width="40%"><strong>Feature name</strong></td>
                                <td width="40%"><strong>Regression coefficient</strong></td>
                            </tr>
                            
                            <tr>
                                <td>median_price_sqm</td>
                                <td>-0.980555</td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height</td>
                                <td>-0.329576</td>
                            </tr>
                            
                        </table>
                        <p><img src="Model_weights.png" alt="Model weights"></p>
                    </ul>
                </li>
                <li>
                    <h3 class="caret" id="section2_2">2.2. Splitting Features into Bins and WoE Values ​​in them</h3>
                    <ul class="nested">
                        <p></p>
                        
                        <p><img src=median_price_sqm_woe.png alt="median_price_sqm_woe.png" /></p>
                        
                        <p><img src=ceiling_height_woe.png alt="ceiling_height_woe.png" /></p>
                        
                    </ul>
                </li>
            </ul>
        </li>
        <li>
            <h2 class="caret caret-down" id="section3">3. Validation Tests</h2>
            <ul class="nested active">
                <li>
                    <h3 class="caret" id="section3_1">3.1. Differences in the Number of Missing Values between Training
                        and Test Sets
                    </h3>
                    <ul class="nested">
                        <p>Statistics related to the number of missing values between training and test sets are shown
                            in Table 5.</p>
                        <h4>Table 5. Missing values</h4>
                        <table style="width:100%">
                            <tr>
                                <td width="40%"><strong>Feature name</strong></td>

                                <td width="40%"><strong>Number of valid values in the training set</strong></td>
                                <td width="40%"><strong>Number of valid values in the test set</strong></td>

                                <td width="40%"><strong>Number of missing values in the training set</strong></td>
                                <td width="40%"><strong>Number of missing values in the test set</strong></td>

                                <td width="40%"><strong>Percentage of valid values in the training set</strong></td>
                                <td width="40%"><strong>Percentage of valid values in the test set</strong></td>

                                <td width="40%"><strong>Difference in percentage of valid values ​​in sets</strong></td>
                            </tr>
                            
                            <tr>
                                <td>median_price_sqm</td>
                                <td>123491</td>
                                <td>42536</td>
                                <td>0</td>

                                <td>0</td>
                                <td>0.00</td>
                                <td>0.00</td>
                                <td>0.00</td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height</td>
                                <td>123491</td>
                                <td>42536</td>
                                <td>0</td>

                                <td>0</td>
                                <td>0.00</td>
                                <td>0.00</td>
                                <td>0.00</td>
                            </tr>
                            
                        </table>
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section3_2">3.2. Classification Quality for Each of the Final Model's
                        features</h3>
                    <ul class="nested">
                        <p></p>
                        
                        <p><img src=median_price_sqm_roc_auc.png alt="median_price_sqm_roc_auc.png" /></p>
                        
                        <p><img src=ceiling_height_roc_auc.png alt="ceiling_height_roc_auc.png" /></p>
                        
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section3_3">3.3. Confidence Interval for Gini Index</h3>
                    <ul class="nested">
                        <span>95% confidence interval for Gini index:</span>
                        <ul>
                            <li>- In the <strong>training</strong> set: <strong>(0.998, 0.998)</strong></li>
                            <li>- In the <strong>test</strong> set: <strong>(0.999, 0.999)</strong></li>
                        </ul>
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section3_4">3.4. P-value for Model Coefficients</h3>
                    <ul class="nested">
                        
                        <h4>For features in training set:</h4>
                        <table>
                            <tr>
                                <td><strong>Feature name</strong></td>
                                <td><strong>P-value</strong></td>
                            </tr>
                            
                            <tr>
                                <td>median_price_sqm</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td>Intercept_</td>
                                <td>0.0</td>
                            </tr>
                            
                        </table>
                        <h4>For features in the test set:</h4>
                        <table>
                            <tr>
                                <td><strong>Feature name</strong></td>
                                <td><strong>P-value</strong></td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height</td>
                                <td>1.6e-05</td>
                            </tr>
                            
                            <tr>
                                <td>median_price_sqm</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td>Intercept_</td>
                                <td>0.0</td>
                            </tr>
                            
                        </table>
                        
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section3_5">3.5. One-dimensional Analysis</h3>
                    <ul class="nested">
                        <p>Gini for the training set</p>
                        <p><img src="train_enc_ginis.png" alt="Train_enc ginis"></p>
                        <p>Gini for the test set</p>
                        <p><img src="test_enc_ginis.png" alt="Test_enc ginis"></p>
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section3_6">3.6. Check for Monotony</h3>
                    <ul class="nested">
                        <p></p>
                        
                        <p><img src=median_price_sqm_woe_bars.png alt="median_price_sqm_woe_bars.png" /></p>
                        
                        <p><img src=ceiling_height_woe_bars.png alt="ceiling_height_woe_bars.png" /></p>
                        
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section3_7">3.7. Check for Backlash</h3>
                    <ul class="nested">
                        <p></p>
                        
                        <p><img src=median_price_sqm_backlash_plot.png alt="median_price_sqm_backlash_plot.png" /></p>
                        
                        <p><img src=ceiling_height_backlash_plot.png alt="ceiling_height_backlash_plot.png" /></p>
                        
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section3_8">3.8. Check for VIF</h3>
                    <ul class="nested">
                        
                        <table>
                            <tr>
                                <td><strong>Feature name</strong></td>
                                <td><strong>VIF value</strong></td>
                            </tr>
                            
                            <tr>
                                <td>median_price_sqm</td>
                                <td>1.544278</td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height</td>
                                <td>1.544278</td>
                            </tr>
                            
                        </table>
                        
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section3_9">3.9. PSI</h3>
                    <ul class="nested">
                        
                        <p>Total PSI</p>
                        <table>
                            <tr>
                                <td><strong>Feature name</strong></td>
                                <td><strong>PSI value</strong></td>
                            </tr>
                            
                            <tr>
                                <td>median_price_sqm</td>
                                <td>0.021987</td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height</td>
                                <td>0.000244</td>
                            </tr>
                            
                        </table>
                        <p>PSI for non-target events</p>
                        <table>
                            <tr>
                                <td><strong>Feature name</strong></td>
                                <td><strong>PSI value</strong></td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height</td>
                                <td>0.00304</td>
                            </tr>
                            
                            <tr>
                                <td>median_price_sqm</td>
                                <td>0.000424</td>
                            </tr>
                            
                        </table>
                        <p>PSI for target events</p>
                        <table>
                            <tr>
                                <td><strong>Feature name</strong></td>
                                <td><strong>PSI value</strong></td>
                            </tr>
                            
                            <tr>
                                <td>median_price_sqm</td>
                                <td>0.071783</td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height</td>
                                <td>0.003922</td>
                            </tr>
                            
                        </table>
                        <p>Grouping by predictions on the training set (total)</p>
                        <p><img src="binned_train_total.png" alt="binned_train_total"></p>
                        <p>Grouping by predictions of target and non-target events on the training set</p>
                        <p><img src="binned_train_posneg.png" alt="binned_train_posneg"></p>
                        <p>Grouping by predictions on the test set (total)</p>
                        <p><img src="binned_test_total.png" alt="binned_test_total"></p>
                        <p>Grouping by predictions of target and non-target events on the test set</p>
                        <p><img src="binned_test_posneg.png" alt="binned_test_posneg"></p>
                        <p>PSI by grouped predictions of model</p>
                        <table>
                            <tr>
                                <td><strong>Total PSI</strong></td>
                                <td>0.034239</td>
                            </tr>
                            <tr>
                                <td><strong>PSI for non-target events</strong></td>
                                <td>0.008776</td>
                            </tr>
                            <tr>
                                <td><strong>PSI for target events</strong></td>
                                <td>0.091184</td>
                            </tr>
                        </table>
                        
                    </ul>
                </li>
            </ul>
        </li>
        <li>
            <h2 class="caret caret-down" id="section4">4. Additional Reports</h2>
            <ul class="nested active">

                <li>
                    <h3 class="caret" id="section4_1">4.1. Prediction Bin Statistics</h3>
                    <ul class="nested">
                        <h4>Mean value of the target on the training and test set</h4>
                        <p><img src="binned_stats_target.png" alt="binned_stats_target"></p>
                        <h4>Prediction statistics for the training set</h4>
                        <p><img src="binned_stats_train.png" alt="binned_stats_train"></p>
                        
                        <table>
                            <tr>
                                <td><strong>ScoreBin</strong></td>
                                <td><strong>count</strong></td>
                                <td><strong>mean</strong></td>
                                <td><strong>std</strong></td>
                                <td><strong>min</strong></td>
                                <td><strong>25%</strong></td>
                                <td><strong>50%</strong></td>
                                <td><strong>75%</strong></td>
                                <td><strong>max</strong></td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-12.277, -11.204]</strong></td>
                                <td>50029.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-11.204, -10.152]</strong></td>
                                <td>4880.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-10.152, -9.1]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-9.1, -8.048]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-8.048, -6.996]</strong></td>
                                <td>22325.0</td>
                                <td>0.0004</td>
                                <td>0.0001</td>
                                <td>0.0003</td>
                                <td>0.0003</td>
                                <td>0.0003</td>
                                <td>0.0005</td>
                                <td>0.0007</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-6.996, -5.944]</strong></td>
                                <td>5645.0</td>
                                <td>0.001</td>
                                <td>0.0001</td>
                                <td>0.0009</td>
                                <td>0.0011</td>
                                <td>0.0011</td>
                                <td>0.0011</td>
                                <td>0.0011</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-5.944, -4.892]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-4.892, -3.84]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-3.84, -2.789]</strong></td>
                                <td>1529.0</td>
                                <td>0.0551</td>
                                <td>0.0</td>
                                <td>0.0551</td>
                                <td>0.0551</td>
                                <td>0.0551</td>
                                <td>0.0551</td>
                                <td>0.0551</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-2.789, -1.737]</strong></td>
                                <td>2023.0</td>
                                <td>0.1105</td>
                                <td>0.0202</td>
                                <td>0.0888</td>
                                <td>0.0888</td>
                                <td>0.1057</td>
                                <td>0.1408</td>
                                <td>0.1408</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-1.737, -0.685]</strong></td>
                                <td>2719.0</td>
                                <td>0.163</td>
                                <td>0.0</td>
                                <td>0.163</td>
                                <td>0.163</td>
                                <td>0.163</td>
                                <td>0.163</td>
                                <td>0.163</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-0.685, 0.367]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(0.367, 1.419]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(1.419, 2.471]</strong></td>
                                <td>951.0</td>
                                <td>0.8825</td>
                                <td>0.023</td>
                                <td>0.8665</td>
                                <td>0.8665</td>
                                <td>0.8665</td>
                                <td>0.9156</td>
                                <td>0.9156</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(2.471, 3.523]</strong></td>
                                <td>5663.0</td>
                                <td>0.9523</td>
                                <td>0.0083</td>
                                <td>0.9293</td>
                                <td>0.9559</td>
                                <td>0.9559</td>
                                <td>0.9559</td>
                                <td>0.9559</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(3.523, 4.575]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(4.575, 5.627]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(5.627, 6.679]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(6.679, 7.731]</strong></td>
                                <td>1981.0</td>
                                <td>0.9995</td>
                                <td>0.0</td>
                                <td>0.9995</td>
                                <td>0.9995</td>
                                <td>0.9995</td>
                                <td>0.9995</td>
                                <td>0.9995</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(7.731, 8.783]</strong></td>
                                <td>25746.0</td>
                                <td>0.9998</td>
                                <td>0.0</td>
                                <td>0.9997</td>
                                <td>0.9998</td>
                                <td>0.9998</td>
                                <td>0.9998</td>
                                <td>0.9998</td>
                            </tr>
                            
                        </table>
                        
                        <h4>Prediction statistics for the test set</h4>
                        <p><img src="binned_stats_test.png" alt="binned_stats_test"></p>
                        
                        <table>
                            <tr>
                                <td><strong>ScoreBin</strong></td>
                                <td><strong>count</strong></td>
                                <td><strong>mean</strong></td>
                                <td><strong>std</strong></td>
                                <td><strong>min</strong></td>
                                <td><strong>25%</strong></td>
                                <td><strong>50%</strong></td>
                                <td><strong>75%</strong></td>
                                <td><strong>max</strong></td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-12.277, -11.204]</strong></td>
                                <td>16465.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-11.204, -10.152]</strong></td>
                                <td>1554.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-10.152, -9.1]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-9.1, -8.048]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-8.048, -6.996]</strong></td>
                                <td>7700.0</td>
                                <td>0.0004</td>
                                <td>0.0001</td>
                                <td>0.0003</td>
                                <td>0.0003</td>
                                <td>0.0003</td>
                                <td>0.0005</td>
                                <td>0.0007</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-6.996, -5.944]</strong></td>
                                <td>1802.0</td>
                                <td>0.0011</td>
                                <td>0.0001</td>
                                <td>0.0009</td>
                                <td>0.0011</td>
                                <td>0.0011</td>
                                <td>0.0011</td>
                                <td>0.0011</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-5.944, -4.892]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-4.892, -3.84]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-3.84, -2.789]</strong></td>
                                <td>743.0</td>
                                <td>0.0551</td>
                                <td>0.0</td>
                                <td>0.0551</td>
                                <td>0.0551</td>
                                <td>0.0551</td>
                                <td>0.0551</td>
                                <td>0.0551</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-2.789, -1.737]</strong></td>
                                <td>786.0</td>
                                <td>0.1088</td>
                                <td>0.0198</td>
                                <td>0.0888</td>
                                <td>0.0888</td>
                                <td>0.1057</td>
                                <td>0.1057</td>
                                <td>0.1408</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-1.737, -0.685]</strong></td>
                                <td>492.0</td>
                                <td>0.163</td>
                                <td>0.0</td>
                                <td>0.163</td>
                                <td>0.163</td>
                                <td>0.163</td>
                                <td>0.163</td>
                                <td>0.163</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(-0.685, 0.367]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(0.367, 1.419]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(1.419, 2.471]</strong></td>
                                <td>380.0</td>
                                <td>0.8791</td>
                                <td>0.0214</td>
                                <td>0.8665</td>
                                <td>0.8665</td>
                                <td>0.8665</td>
                                <td>0.9156</td>
                                <td>0.9156</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(2.471, 3.523]</strong></td>
                                <td>974.0</td>
                                <td>0.9505</td>
                                <td>0.0098</td>
                                <td>0.9293</td>
                                <td>0.948</td>
                                <td>0.9559</td>
                                <td>0.9559</td>
                                <td>0.9559</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(3.523, 4.575]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(4.575, 5.627]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(5.627, 6.679]</strong></td>
                                <td>0.0</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                                <td>nan</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(6.679, 7.731]</strong></td>
                                <td>906.0</td>
                                <td>0.9995</td>
                                <td>0.0</td>
                                <td>0.9995</td>
                                <td>0.9995</td>
                                <td>0.9995</td>
                                <td>0.9995</td>
                                <td>0.9995</td>
                            </tr>
                            
                            <tr>
                                <td><strong>(7.731, 8.783]</strong></td>
                                <td>10734.0</td>
                                <td>0.9998</td>
                                <td>0.0</td>
                                <td>0.9997</td>
                                <td>0.9998</td>
                                <td>0.9998</td>
                                <td>0.9998</td>
                                <td>0.9998</td>
                            </tr>
                            
                        </table>
                        
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section4_2">4.2. Correlations by Factors Included in the Model</h3>
                    <ul class="nested">
                        <p><img src="corr_heatmap.png" alt="corr_heatmap"></p>
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section4_3">4.3. Scorecard</h3>
                    <ul class="nested">
                        <table>
                            <tr>
                                <td><strong>Variable</strong></td>
                                <td><strong>Value</strong></td>
                                <td><strong>WOE</strong></td>
                                <td><strong>COEF</strong></td>
                                <td><strong>POINTS</strong></td>
                            </tr>
                            
                            <tr>
                                <td>Intercept</td>
                                <td>None</td>
                                <td>None</td>
                                <td>-1.11</td>
                                <td>-1.11</td>
                            </tr>
                            
                            <tr>
                                <td>median_price_sqm</td>
                                <td>median_price_sqm <= 76889.48</td>
                                <td>10.67</td>
                                <td>-0.98</td>
                                <td>-10.46</td>
                            </tr>
                            
                            <tr>
                                <td>median_price_sqm</td>
                                <td>76889.48 < median_price_sqm <= 117760.72</td>
                                <td>6.36</td>
                                <td>-0.98</td>
                                <td>-6.23</td>
                            </tr>
                            
                            <tr>
                                <td>median_price_sqm</td>
                                <td>117760.72 < median_price_sqm <= 137510.53</td>
                                <td>1.07</td>
                                <td>-0.98</td>
                                <td>-1.05</td>
                            </tr>
                            
                            <tr>
                                <td>median_price_sqm</td>
                                <td>137510.53 < median_price_sqm <= 150134.05</td>
                                <td>-3.74</td>
                                <td>-0.98</td>
                                <td>3.67</td>
                            </tr>
                            
                            <tr>
                                <td>median_price_sqm</td>
                                <td>median_price_sqm > 150134.05</td>
                                <td>-9.56</td>
                                <td>-0.98</td>
                                <td>9.37</td>
                            </tr>
                            
                            <tr>
                                <td>median_price_sqm</td>
                                <td>__NaN_0__</td>
                                <td>0</td>
                                <td>-0.98</td>
                                <td>0.0</td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height</td>
                                <td>ceiling_height <= 0.99</td>
                                <td>2.09</td>
                                <td>-0.33</td>
                                <td>-0.69</td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height</td>
                                <td>0.99 < ceiling_height <= 1.17</td>
                                <td>0.53</td>
                                <td>-0.33</td>
                                <td>-0.18</td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height</td>
                                <td>1.17 < ceiling_height <= 1.4</td>
                                <td>-0.05</td>
                                <td>-0.33</td>
                                <td>0.02</td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height</td>
                                <td>1.4 < ceiling_height <= 1.54</td>
                                <td>-1.04</td>
                                <td>-0.33</td>
                                <td>0.34</td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height</td>
                                <td>ceiling_height > 1.54</td>
                                <td>-1.57</td>
                                <td>-0.33</td>
                                <td>0.52</td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height</td>
                                <td>__NaN_0__</td>
                                <td>0</td>
                                <td>-0.33</td>
                                <td>0.0</td>
                            </tr>
                            
                        </table>
                        <br />
                        <span>Missing values processing legend:</span>
                        <ul>
                            <li><strong>__NaN__</strong> - separate group with WoE evaluation</li>
                            <li><strong>__NaN_0__</strong> - separate group with WoE = 0</li>
                            <li><strong>__NaN_maxfreq__</strong> - added to the most frequent group without WoE
                                evaluation</li>
                            <li><strong>__NaN_maxp__</strong> - added to the group with maximum probability without WoE
                                evaluation</li>
                            <li><strong>__NaN_minp__</strong> - added to the group with minimum probability without WoE
                                evaluation</li>
                        </ul>
                        <br />
                        <span>Rare/unknown category processing legend:</span>
                        <ul>
                            <li><strong>__Small__</strong> - separate group with WoE evaluation</li>
                            <li><strong>__Small_nan__</strong> - to the NaN group</li>
                            <li><strong>__Small_0__</strong> - separate group with WoE = 0</li>
                            <li><strong>__Small_maxfreq__</strong> - added to the most frequent group without WoE
                                evaluation</li>
                            <li><strong>__Small_maxp__</strong> - added to the group with maximum probability without
                                WoE evaluation</li>
                            <li><strong>__Small_minp__</strong> - added to the group with minimum probability without
                                WoE evaluation</li>
                        </ul>
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section4_4">4.4. Feature Selection History</h3>
                    <ul class="nested">
                        <table>
                            <tr>
                                <td><strong>Feature</strong></td>
                                <td><strong></strong></td>
                            </tr>
                            
                            <tr>
                                <td>apartment_ratio</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>art_cnt</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>art_cnt_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>art_cnt_bmin</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>beauty_cnt</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>beauty_cnt_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>beauty_cnt_bmin</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_ANOTHER</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_ANOTHER_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_ANOTHER_bmin</td>
                                <td>NaN values</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_BLOCK</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_BLOCK_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_BLOCK_bmin</td>
                                <td>NaN values</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_BRICK</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_BRICK_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_BRICK_bmin</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_MONOLIT</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_MONOLIT_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_MONOLIT_bmin</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_PANEL</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_PANEL_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_PANEL_bmin</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_UNKNOWN</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_UNKNOWN_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>building_type_UNKNOWN_bmin</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>cafe_restaurant_eating_out_cnt</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>cafe_restaurant_eating_out_cnt_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>cafe_restaurant_eating_out_cnt_bmin</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height</td>
                                <td>Selected; Gini = 0.68, IV = 2.0</td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height_bmax</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height_bmin</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>chain_cnt</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>chain_cnt_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>chain_cnt_bmin</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>city_quadkey</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>entertainment_cnt</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>entertainment_cnt_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>entertainment_cnt_bmin</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>expect_demolition</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>expect_demolition_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>expect_demolition_bmin</td>
                                <td>NaN values</td>
                            </tr>
                            
                            <tr>
                                <td>flats_count</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>flats_count_bmax</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>flats_count_bmin</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>groceries_and_everyday_items_cnt</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>groceries_and_everyday_items_cnt_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>groceries_and_everyday_items_cnt_bmin</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>healthcare_cnt</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>healthcare_cnt_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>healthcare_cnt_bmin</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>hol_cnt</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>laundry_and_repair_services_cnt</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>laundry_and_repair_services_cnt_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>laundry_and_repair_services_cnt_bmin</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>median_price_sqm</td>
                                <td>Selected; Gini = 1.0, IV = 16.93</td>
                            </tr>
                            
                            <tr>
                                <td>month__F__d</td>
                                <td>NaN values</td>
                            </tr>
                            
                            <tr>
                                <td>month__F__m</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>month__F__wd</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>month__F__y</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>month_num</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>offer_count</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>prehol_cnt</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>quarter</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>rooms_offered_1_ratio</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>rooms_offered_2_ratio</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>rooms_offered_3_ratio</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>rooms_offered_4_more_ratio</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>shopping_cnt</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>shopping_cnt_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>shopping_cnt_bmin</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>sport_cnt</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>sport_cnt_bmax</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>sport_cnt_bmin</td>
                                <td>Low importance</td>
                            </tr>
                            
                            <tr>
                                <td>studio_ratio</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>total_area_avg</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>unique_active_building_series_count</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                            <tr>
                                <td>unique_active_buildings_count</td>
                                <td>Pruned during regression refit</td>
                            </tr>
                            
                        </table>
                    </ul>
                </li>

                <li>
                    <h3 class="caret" id="section4_5">4.5. Feature Contribution in the Model</h3>
                    <ul class="nested">
                        

                        
                        <table>
                            <tr>
                                <td><strong>Feature</strong></td>
                                <td><strong>Contribution to ROC AUC</strong></td>
                            </tr>
                            
                            <tr>
                                <td>ceiling_height</td>
                                <td>0.0001</td>
                            </tr>
                            
                            <tr>
                                <td>median_price_sqm</td>
                                <td>0.1579</td>
                            </tr>
                            
                        </table>
                        

                        
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
    <script type="text/javascript">
        var toggler = document.getElementsByClassName("caret");
        var i;

        for (i = 0; i < toggler.length; i++) {
            toggler[i].addEventListener("click", function () {
                this.parentElement.querySelector(".nested").classList.toggle("active");
                this.classList.toggle("caret-down");
            });
        }
    </script>
</body>

</html>